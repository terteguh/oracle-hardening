(venv) ansible@Teguh:~/oracle-hardening$ ls
README.md  inventory  main-dahbisa1.yml  main.yml  main2.yml  main3.yml
(venv) ansible@Teguh:~/oracle-hardening$ cat main.yml
---
- name: Execute SQL Statements on Oracle Database
  hosts: oraclehost
  # become: true  # Run tasks with elevated privileges (sudo)

  vars:
    # oracle_sid: cdb1
    # oracle_user: oracle
    # oracle_password: oracle
    sql_statements:
      - "SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS';"




  tasks:
    - name: Execute SQL Statements
      shell: |
        export TMP=/tmp
        export TMPDIR=$TMP
        export ORACLE_HOSTNAME=ol8-19.localdomain
        export ORACLE_UNQNAME=cdb1
        export ORACLE_BASE=/u01/app/oracle
        export ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1
        export ORA_INVENTORY=/u01/app/oraInventory
        export ORACLE_SID=cdb1
        export PDB_NAME=pdb1
        export DATA_DIR=/u02/oradata
        export PATH=/usr/sbin:/usr/local/bin:$PATH
        export PATH=$ORACLE_HOME/bin:$PATH
        export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib
        export CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib
        echo "{{ item }}" | sqlplus -S / as sysdba
      with_items: "{{ sql_statements }}"
      register: result
      # args:
      #   executable: /bin/bash



    - name: Print return information from the previous task
      ansible.builtin.debug:
        var: result
        verbosity: 3(venv) ansible@Teguh:~/oracle-hardening$
(venv) ansible@Teguh:~/oracle-hardening$ ansible-playbook main.yml -i inventory -vvv
ansible-playbook [core 2.14.1]
  config file = None
  configured module search path = ['/home/ansible/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/ansible/venv/lib/python3.10/site-packages/ansible
  ansible collection location = /home/ansible/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/ansible/venv/bin/ansible-playbook
  python version = 3.10.6 (main, Nov 14 2022, 16:10:14) [GCC 11.3.0] (/home/ansible/venv/bin/python)
  jinja version = 3.1.2
  libyaml = True
No config file found; using defaults
host_list declined parsing /home/ansible/oracle-hardening/inventory as it did not pass its verify_file() method
script declined parsing /home/ansible/oracle-hardening/inventory as it did not pass its verify_file() method
auto declined parsing /home/ansible/oracle-hardening/inventory as it did not pass its verify_file() method
Parsed /home/ansible/oracle-hardening/inventory inventory source with yaml plugin
Skipping callback 'default', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.

PLAYBOOK: main.yml *****************************************************************************************************************************************
1 plays in main.yml

PLAY [Execute SQL Statements on Oracle Database] ***********************************************************************************************************

TASK [Gathering Facts] *************************************************************************************************************************************
task path: /home/ansible/oracle-hardening/main.yml:2
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'echo ~oracle && sleep 0'"'"''
<192.168.0.22> (0, b'/home/oracle\n', b'')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/oracle/.ansible/tmp `"&& mkdir "` echo /home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397 `" && echo ansible-tmp-1703772756.8527644-17039-207823281168397="` echo /home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397 `" ) && sleep 0'"'"''
<192.168.0.22> (0, b'ansible-tmp-1703772756.8527644-17039-207823281168397=/home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397\n', b'')
<192.168.0.22> Attempting python interpreter discovery
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'echo PLATFORM; uname; echo FOUND; command -v '"'"'"'"'"'"'"'"'python3.11'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.10'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.9'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.8'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.7'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.6'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.5'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/bin/python3'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/libexec/platform-python'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python2.7'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/bin/python'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python'"'"'"'"'"'"'"'"'; echo ENDFOUND && sleep 0'"'"''
<192.168.0.22> (0, b'PLATFORM\nLinux\nFOUND\n/usr/bin/python3.9\n/usr/bin/python3.6\n/usr/bin/python3\n/usr/libexec/platform-python\nENDFOUND\n', b'')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'/usr/bin/python3.9 && sleep 0'"'"''
<192.168.0.22> (0, b'{"platform_dist_result": [], "osrelease_content": "NAME=\\"Oracle Linux Server\\"\\nVERSION=\\"8.9\\"\\nID=\\"ol\\"\\nID_LIKE=\\"fedora\\"\\nVARIANT=\\"Server\\"\\nVARIANT_ID=\\"server\\"\\nVERSION_ID=\\"8.9\\"\\nPLATFORM_ID=\\"platform:el8\\"\\nPRETTY_NAME=\\"Oracle Linux Server 8.9\\"\\nANSI_COLOR=\\"0;31\\"\\nCPE_NAME=\\"cpe:/o:oracle:linux:8:9:server\\"\\nHOME_URL=\\"https://linux.oracle.com/\\"\\nBUG_REPORT_URL=\\"https://github.com/oracle/oracle-linux\\"\\n\\nORACLE_BUGZILLA_PRODUCT=\\"Oracle Linux 8\\"\\nORACLE_BUGZILLA_PRODUCT_VERSION=8.9\\nORACLE_SUPPORT_PRODUCT=\\"Oracle Linux\\"\\nORACLE_SUPPORT_PRODUCT_VERSION=8.9\\n"}\n', b'')
<192.168.0.22> Python interpreter discovery fallback (unsupported Linux distribution: ol)
Using module file /home/ansible/venv/lib/python3.10/site-packages/ansible/modules/setup.py
<192.168.0.22> PUT /home/ansible/.ansible/tmp/ansible-local-17032prb3kks5/tmpe5fo41_b TO /home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397/AnsiballZ_setup.py
<192.168.0.22> SSH: EXEC sshpass -d10 sftp -o BatchMode=no -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' '[192.168.0.22]'
<192.168.0.22> (0, b'sftp> put /home/ansible/.ansible/tmp/ansible-local-17032prb3kks5/tmpe5fo41_b /home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397/AnsiballZ_setup.py\n', b'')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'chmod u+x /home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397/ /home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397/AnsiballZ_setup.py && sleep 0'"'"''
<192.168.0.22> (0, b'', b'')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' -tt 192.168.0.22 '/bin/sh -c '"'"'/usr/bin/python3.9 /home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397/AnsiballZ_setup.py && sleep 0'"'"''
<192.168.0.22> (0, b'\r\n{"ansible_facts": {"ansible_user_id": "oracle", "ansible_user_uid": 54321, "ansible_user_gid": 54321, "ansible_user_gecos": "", "ansible_user_dir": "/home/oracle", "ansible_user_shell": "/bin/bash", "ansible_real_user_id": 54321, "ansible_effective_user_id": 54321, "ansible_real_group_id": 54321, "ansible_effective_group_id": 54321, "ansible_distribution": "OracleLinux", "ansible_distribution_release": "NA", "ansible_distribution_version": "8.9", "ansible_distribution_major_version": "8", "ansible_distribution_file_path": "/etc/oracle-release", "ansible_distribution_file_variety": "OracleLinux", "ansible_distribution_file_parsed": true, "ansible_distribution_file_search_string": "Oracle Linux", "ansible_os_family": "RedHat", "ansible_system": "Linux", "ansible_kernel": "5.15.0-201.135.6.el8uek.x86_64", "ansible_kernel_version": "#2 SMP Thu Nov 30 17:54:37 PST 2023", "ansible_machine": "x86_64", "ansible_python_version": "3.9.18", "ansible_fqdn": "ol8-19.localdomain", "ansible_hostname": "ol8-19", "ansible_nodename": "ol8-19.localdomain", "ansible_domain": "localdomain", "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_userspace_architecture": "x86_64", "ansible_machine_id": "26350363b2f14c66921e0da1370eebfc", "ansible_python": {"version": {"major": 3, "minor": 9, "micro": 18, "releaselevel": "final", "serial": 0}, "version_info": [3, 9, 18, "final", 0], "executable": "/usr/bin/python3.9", "has_sslcontext": true, "type": "cpython"}, "ansible_apparmor": {"status": "disabled"}, "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQDCr/D47fV8wyJtSoAx8z4XBrsPXbUOdjnL/UzIU2Payledo0nWA6XpMvdkrjp6UzNEFmXbNcWrCvRUZl23qJE4JwmtFxvhynH0pgkfNmDXaiEPJ8SsDcYQWC2yuWD6NiHUjCz/jjDXbIJHj2+g8QyinDjihW+1EaxMarEnHvemzE3M4E+3+ojBeWrx8n+AkZEzQtKQ5q/PgYkHoQVPt22Q6i6aQ8PY9aOFmywT+UzNTVqBQsmRZ7Qzm7QGQq2xR+AVjUgu+sqxWE4qBmULQSdpCq6fxaR7rpEf7r4PvrQnrC8KS1Vde9W0BjD02E6adtOo9Vna87fZOX9+yRXZbKOc49NY4+Zo+bNfPPpfpca2Hbp2iFYtNEYqME5ZI8nQEETCX+yvIz8rJeD70MbWkI0i0Ax+kqeO7rZyVTX6vqMtzdE3ThhlvvAFCrvmRpk5CaTyqKkekITMdTfh3pYqjuQt+4GdGfwwdTveXz+a9Movfzp6nzB9fxtXhB8/KGDzk9c=", "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa", "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPjKkPR9PMeDn9COI++r4xSsfqFmcr/94M4jrmC0sarv9H2kW9Q3/6OIxcuAxPRu8OIP6PDWeJ7ZpMb8Zhl4qwk=", "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAICyOB2QRkDhovfYcvon1yyV+JUCIfOFPnwPQ+uolhvAe", "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519", "ansible_fibre_channel_wwn": [], "ansible_system_capabilities_enforced": "True", "ansible_system_capabilities": [""], "ansible_loadavg": {"1m": 0.03, "5m": 0.05, "15m": 0.0}, "ansible_iscsi_iqn": "iqn.1988-12.com.oracle:533e5154dd6", "ansible_is_chroot": false, "ansible_selinux_python_present": true, "ansible_selinux": {"status": "enabled", "policyvers": 33, "config_mode": "permissive", "mode": "permissive", "type": "targeted"}, "ansible_cmdline": {"BOOT_IMAGE": "(hd0,gpt2)/vmlinuz-5.15.0-201.135.6.el8uek.x86_64", "root": "/dev/mapper/ol_ora2-root", "ro": true, "crashkernel": "auto", "resume": "/dev/mapper/ol_ora2-swap", "rd.lvm.lv": "ol_ora2/swap", "rhgb": true, "quiet": true, "numa": "off", "transparent_hugepage": "never"}, "ansible_proc_cmdline": {"BOOT_IMAGE": "(hd0,gpt2)/vmlinuz-5.15.0-201.135.6.el8uek.x86_64", "root": "/dev/mapper/ol_ora2-root", "ro": true, "crashkernel": "auto", "resume": "/dev/mapper/ol_ora2-swap", "rd.lvm.lv": ["ol_ora2/root", "ol_ora2/swap"], "rhgb": true, "quiet": true, "numa": "off", "transparent_hugepage": "never"}, "ansible_virtualization_role": "guest", "ansible_virtualization_type": "VirtualPC", "ansible_virtualization_tech_guest": ["VirtualPC"], "ansible_virtualization_tech_host": [], "ansible_env": {"LS_COLORS": "rs=0:di=38;5;33:ln=38;5;51:mh=00:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=01;05;37;41:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;40:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.zst=38;5;9:*.tzst=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.wim=38;5;9:*.swm=38;5;9:*.dwm=38;5;9:*.esd=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.mjpg=38;5;13:*.mjpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.m4a=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.oga=38;5;45:*.opus=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:", "SSH_CONNECTION": "172.25.15.249 37438 192.168.0.22 22", "_": "/usr/bin/python3.9", "LANG": "C.UTF-8", "S_COLORS": "auto", "which_declare": "declare -f", "XDG_SESSION_ID": "23", "USER": "oracle", "SELINUX_ROLE_REQUESTED": "", "PWD": "/home/oracle", "SSH_ASKPASS": "/usr/libexec/openssh/gnome-ssh-askpass", "HOME": "/home/oracle", "SSH_CLIENT": "172.25.15.249 37438 22", "SELINUX_LEVEL_REQUESTED": "", "XDG_DATA_DIRS": "/home/oracle/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share", "SSH_TTY": "/dev/pts/1", "SHELL": "/bin/bash", "TERM": "xterm-256color", "SELINUX_USE_CURRENT_RANGE": "", "SHLVL": "2", "LOGNAME": "oracle", "DBUS_SESSION_BUS_ADDRESS": "unix:path=/run/user/54321/bus", "XDG_RUNTIME_DIR": "/run/user/54321", "PATH": "/home/oracle/.local/bin:/home/oracle/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin", "LESSOPEN": "||/usr/bin/lesspipe.sh %s", "BASH_FUNC_which%%": "() {  ( alias;\\n eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot $@\\n}"}, "ansible_fips": false, "ansible_interfaces": ["lo", "virbr0", "eth0"], "ansible_virbr0": {"device": "virbr0", "macaddress": "52:54:00:66:3c:7e", "mtu": 1500, "active": false, "type": "bridge", "interfaces": [], "id": "8000.525400663c7e", "stp": true, "speed": -1, "promisc": false, "ipv4": {"address": "192.168.122.1", "broadcast": "192.168.122.255", "netmask": "255.255.255.0", "network": "192.168.122.0", "prefix": "24"}, "features": {"rx_checksumming": "off [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "on", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "on", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "on", "tx_fcoe_segmentation": "on", "tx_gre_segmentation": "on", "tx_gre_csum_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_ipxip6_segmentation": "on", "tx_udp_tnl_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "tx_gso_partial": "on", "tx_tunnel_remcsum_segmentation": "on", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "on", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]", "rx_udp_gro_forwarding": "off", "hsr_tag_ins_offload": "off [fixed]", "hsr_tag_rm_offload": "off [fixed]", "hsr_fwd_offload": "off [fixed]", "hsr_dup_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_eth0": {"device": "eth0", "macaddress": "00:15:5d:01:02:21", "mtu": 1500, "active": true, "module": "hv_netvsc", "type": "ether", "pciid": "fa900249-0e81-411b-9fab-e06bd9bf2673", "speed": 10000, "promisc": false, "ipv4": {"address": "192.168.0.22", "broadcast": "192.168.0.255", "netmask": "255.255.255.0", "network": "192.168.0.0", "prefix": "24"}, "ipv6": [{"address": "fe80::215:5dff:fe01:221", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "on", "tx_checksumming": "on", "tx_checksum_ipv4": "on", "tx_checksum_ip_generic": "off [fixed]", "tx_checksum_ipv6": "on", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off", "rx_vlan_offload": "on [fixed]", "tx_vlan_offload": "on [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "on", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]", "rx_udp_gro_forwarding": "off", "hsr_tag_ins_offload": "off [fixed]", "hsr_tag_rm_offload": "off [fixed]", "hsr_fwd_offload": "off [fixed]", "hsr_dup_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_lo": {"device": "lo", "mtu": 65536, "active": true, "type": "loopback", "promisc": false, "ipv4": {"address": "127.0.0.1", "broadcast": "", "netmask": "255.0.0.0", "network": "127.0.0.0", "prefix": "8"}, "ipv6": [{"address": "::1", "prefix": "128", "scope": "host"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "on [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off [fixed]", "loopback": "on [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]", "rx_udp_gro_forwarding": "off", "hsr_tag_ins_offload": "off [fixed]", "hsr_tag_rm_offload": "off [fixed]", "hsr_fwd_offload": "off [fixed]", "hsr_dup_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_default_ipv4": {"gateway": "192.168.0.1", "interface": "eth0", "address": "192.168.0.22", "broadcast": "192.168.0.255", "netmask": "255.255.255.0", "network": "192.168.0.0", "prefix": "24", "macaddress": "00:15:5d:01:02:21", "mtu": 1500, "type": "ether", "alias": "eth0"}, "ansible_default_ipv6": {}, "ansible_all_ipv4_addresses": ["192.168.122.1", "192.168.0.22"], "ansible_all_ipv6_addresses": ["fe80::215:5dff:fe01:221"], "ansible_processor": ["0", "GenuineIntel", "Intel(R) Core(TM) i7-10750H CPU @ 2.60GHz", "1", "GenuineIntel", "Intel(R) Core(TM) i7-10750H CPU @ 2.60GHz", "2", "GenuineIntel", "Intel(R) Core(TM) i7-10750H CPU @ 2.60GHz", "3", "GenuineIntel", "Intel(R) Core(TM) i7-10750H CPU @ 2.60GHz", "4", "GenuineIntel", "Intel(R) Core(TM) i7-10750H CPU @ 2.60GHz", "5", "GenuineIntel", "Intel(R) Core(TM) i7-10750H CPU @ 2.60GHz"], "ansible_processor_count": 1, "ansible_processor_cores": 3, "ansible_processor_threads_per_core": 2, "ansible_processor_vcpus": 6, "ansible_processor_nproc": 6, "ansible_memtotal_mb": 4988, "ansible_memfree_mb": 941, "ansible_swaptotal_mb": 8067, "ansible_swapfree_mb": 8067, "ansible_memory_mb": {"real": {"total": 4988, "used": 4047, "free": 941}, "nocache": {"free": 3946, "used": 1042}, "swap": {"total": 8067, "free": 8067, "used": 0, "cached": 0}}, "ansible_bios_date": "04/06/2022", "ansible_bios_vendor": "Microsoft Corporation", "ansible_bios_version": "Hyper-V UEFI Release v4.1", "ansible_board_asset_tag": "None", "ansible_board_name": "Virtual Machine", "ansible_board_serial": "NA", "ansible_board_vendor": "Microsoft Corporation", "ansible_board_version": "Hyper-V UEFI Release v4.1", "ansible_chassis_asset_tag": "2712-1341-8129-7981-9776-1206-09", "ansible_chassis_serial": "NA", "ansible_chassis_vendor": "Microsoft Corporation", "ansible_chassis_version": "Hyper-V UEFI Release v4.1", "ansible_form_factor": "Desktop", "ansible_product_name": "Virtual Machine", "ansible_product_serial": "NA", "ansible_product_uuid": "NA", "ansible_product_version": "Hyper-V UEFI Release v4.1", "ansible_system_vendor": "Microsoft Corporation", "ansible_devices": {"dm-1": {"virtual": 1, "links": {"ids": ["dm-name-ol_ora2-swap", "dm-uuid-LVM-8iQ5scOivN0k2qa92wMZ3LzUlewhzb3Ugzz6lLF2g4wwaqYYAYJyCi2CKj0u8POx"], "uuids": ["292e2982-8889-41b5-8b88-986245d73330"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "2097152", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "16523264", "sectorsize": "512", "size": "7.88 GB", "host": "", "holders": []}, "sr0": {"virtual": 1, "links": {"ids": ["scsi-14d534654202020207305e3437703544694957d7ced624a7d"], "uuids": [], "labels": [], "masters": []}, "vendor": "Msft", "model": "Virtual DVD-ROM", "sas_address": null, "sas_device_handle": null, "removable": "1", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "none", "sectors": "2097151", "sectorsize": "512", "size": "1024.00 MB", "host": "", "holders": []}, "dm-2": {"virtual": 1, "links": {"ids": ["dm-name-ol_ora2-home", "dm-uuid-LVM-8iQ5scOivN0k2qa92wMZ3LzUlewhzb3UXYB0fpNFNi7TMxIWxDx7imRAhKLXNwO1"], "uuids": ["e03357de-fdf7-496d-a552-7e6cc832a91d"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "2097152", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "48521216", "sectorsize": "512", "size": "23.14 GB", "host": "", "holders": []}, "dm-0": {"virtual": 1, "links": {"ids": ["dm-name-ol_ora2-root", "dm-uuid-LVM-8iQ5scOivN0k2qa92wMZ3LzUlewhzb3Utx7LysPdGgaTJ8OV2tMGfW4JAEmU4xbF"], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "2097152", "partitions": {}, "rotational": "1", "scheduler_mode": "", "sectors": "99393536", "sectorsize": "512", "size": "47.39 GB", "host": "", "holders": []}, "sda": {"virtual": 1, "links": {"ids": ["scsi-14d53465420202020166570dff4c6fe40b5f59092f4c7ad43", "scsi-360022480166570dff4c69092f4c7ad43", "wwn-0x60022480166570dff4c69092f4c7ad43"], "uuids": [], "labels": [], "masters": []}, "vendor": "Msft", "model": "Virtual Disk", "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "2097152", "wwn": "0x60022480166570dff4c69092f4c7ad43", "partitions": {"sda2": {"links": {"ids": ["scsi-14d53465420202020166570dff4c6fe40b5f59092f4c7ad43-part2", "scsi-360022480166570dff4c69092f4c7ad43-part2", "wwn-0x60022480166570dff4c69092f4c7ad43-part2"], "uuids": ["22f75e42-8008-434e-b4a9-2a5de2a3643c"], "labels": [], "masters": []}, "start": "1230848", "sectors": "2097152", "sectorsize": 512, "size": "1.00 GB", "uuid": "22f75e42-8008-434e-b4a9-2a5de2a3643c", "holders": []}, "sda3": {"links": {"ids": ["lvm-pv-uuid-F3ztHd-XD7p-UquC-Fh74-fHpz-fGdF-zEI7eJ", "scsi-14d53465420202020166570dff4c6fe40b5f59092f4c7ad43-part3", "scsi-360022480166570dff4c69092f4c7ad43-part3", "wwn-0x60022480166570dff4c69092f4c7ad43-part3"], "uuids": [], "labels": [], "masters": ["dm-0", "dm-1", "dm-2"]}, "start": "3328000", "sectors": "164442112", "sectorsize": 512, "size": "78.41 GB", "uuid": null, "holders": ["ol_ora2-swap", "ol_ora2-home", "ol_ora2-root"]}, "sda1": {"links": {"ids": ["scsi-14d53465420202020166570dff4c6fe40b5f59092f4c7ad43-part1", "scsi-360022480166570dff4c69092f4c7ad43-part1", "wwn-0x60022480166570dff4c69092f4c7ad43-part1"], "uuids": ["6A36-D65C"], "labels": [], "masters": []}, "start": "2048", "sectors": "1228800", "sectorsize": 512, "size": "600.00 MB", "uuid": "6A36-D65C", "holders": []}}, "rotational": "1", "scheduler_mode": "none", "sectors": "167772160", "sectorsize": "512", "size": "80.00 GB", "host": "", "holders": []}}, "ansible_device_links": {"ids": {"dm-2": ["dm-name-ol_ora2-home", "dm-uuid-LVM-8iQ5scOivN0k2qa92wMZ3LzUlewhzb3UXYB0fpNFNi7TMxIWxDx7imRAhKLXNwO1"], "sda2": ["scsi-14d53465420202020166570dff4c6fe40b5f59092f4c7ad43-part2", "scsi-360022480166570dff4c69092f4c7ad43-part2", "wwn-0x60022480166570dff4c69092f4c7ad43-part2"], "sda1": ["scsi-14d53465420202020166570dff4c6fe40b5f59092f4c7ad43-part1", "scsi-360022480166570dff4c69092f4c7ad43-part1", "wwn-0x60022480166570dff4c69092f4c7ad43-part1"], "sda3": ["lvm-pv-uuid-F3ztHd-XD7p-UquC-Fh74-fHpz-fGdF-zEI7eJ", "scsi-14d53465420202020166570dff4c6fe40b5f59092f4c7ad43-part3", "scsi-360022480166570dff4c69092f4c7ad43-part3", "wwn-0x60022480166570dff4c69092f4c7ad43-part3"], "sda": ["scsi-14d53465420202020166570dff4c6fe40b5f59092f4c7ad43", "scsi-360022480166570dff4c69092f4c7ad43", "wwn-0x60022480166570dff4c69092f4c7ad43"], "dm-1": ["dm-name-ol_ora2-swap", "dm-uuid-LVM-8iQ5scOivN0k2qa92wMZ3LzUlewhzb3Ugzz6lLF2g4wwaqYYAYJyCi2CKj0u8POx"], "dm-0": ["dm-name-ol_ora2-root", "dm-uuid-LVM-8iQ5scOivN0k2qa92wMZ3LzUlewhzb3Utx7LysPdGgaTJ8OV2tMGfW4JAEmU4xbF"], "sr0": ["scsi-14d534654202020207305e3437703544694957d7ced624a7d"]}, "uuids": {"dm-2": ["e03357de-fdf7-496d-a552-7e6cc832a91d"], "dm-1": ["292e2982-8889-41b5-8b88-986245d73330"], "sda1": ["6A36-D65C"], "sda2": ["22f75e42-8008-434e-b4a9-2a5de2a3643c"]}, "labels": {}, "masters": {"sda3": ["dm-0", "dm-1", "dm-2"]}}, "ansible_uptime_seconds": 6016, "ansible_lvm": "N/A", "ansible_mounts": [{"mount": "/", "device": "/dev/mapper/ol_ora2-root", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 50864644096, "size_available": 32489132032, "block_size": 4096, "block_total": 12418126, "block_available": 7931917, "block_used": 4486209, "inode_total": 24848384, "inode_available": 24653960, "inode_used": 194424, "uuid": "a117154f-7729-4c35-814e-898a398c72fb"}, {"mount": "/home", "device": "/dev/mapper/ol_ora2-home", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 24830734336, "size_available": 21531197440, "block_size": 4096, "block_total": 6062191, "block_available": 5256640, "block_used": 805551, "inode_total": 12130304, "inode_available": 12129704, "inode_used": 600, "uuid": "e03357de-fdf7-496d-a552-7e6cc832a91d"}, {"mount": "/boot", "device": "/dev/sda2", "fstype": "xfs", "options": "rw,seclabel,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota", "size_total": 1063256064, "size_available": 535715840, "block_size": 4096, "block_total": 259584, "block_available": 130790, "block_used": 128794, "inode_total": 524288, "inode_available": 524247, "inode_used": 41, "uuid": "22f75e42-8008-434e-b4a9-2a5de2a3643c"}, {"mount": "/boot/efi", "device": "/dev/sda1", "fstype": "vfat", "options": "rw,relatime,fmask=0077,dmask=0077,codepage=437,iocharset=ascii,shortname=winnt,errors=remount-ro", "size_total": 627900416, "size_available": 622616576, "block_size": 4096, "block_total": 153296, "block_available": 152006, "block_used": 1290, "inode_total": 0, "inode_available": 0, "inode_used": 0, "uuid": "6A36-D65C"}], "ansible_hostnqn": "nqn.2014-08.org.nvmexpress:uuid:dc9f0415-3a4d-42b7-92dd-437c173c34c4", "ansible_date_time": {"year": "2023", "month": "12", "weekday": "Thursday", "weekday_number": "4", "weeknumber": "52", "day": "28", "hour": "21", "minute": "12", "second": "37", "epoch": "1703772757", "epoch_int": "1703772757", "date": "2023-12-28", "time": "21:12:37", "iso8601_micro": "2023-12-28T14:12:37.780294Z", "iso8601": "2023-12-28T14:12:37Z", "iso8601_basic": "20231228T211237780294", "iso8601_basic_short": "20231228T211237", "tz": "WIB", "tz_dst": "WIB", "tz_offset": "+0700"}, "ansible_lsb": {}, "ansible_local": {}, "ansible_service_mgr": "systemd", "ansible_dns": {"search": ["localdomain"], "nameservers": ["8.8.8.8", "8.8.4.4"]}, "ansible_pkg_mgr": "dnf", "gather_subset": ["all"], "module_setup": true}, "invocation": {"module_args": {"gather_subset": ["all"], "gather_timeout": 10, "filter": [], "fact_path": "/etc/ansible/facts.d"}}}\r\n', b'Shared connection to 192.168.0.22 closed.\r\n')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'rm -f -r /home/oracle/.ansible/tmp/ansible-tmp-1703772756.8527644-17039-207823281168397/ > /dev/null 2>&1 && sleep 0'"'"''
<192.168.0.22> (0, b'', b'')
[WARNING]: Platform linux on host 192.168.0.22 is using the discovered Python interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-core/2.14/reference_appendices/interpreter_discovery.html for more
information.
ok: [192.168.0.22]

TASK [Execute SQL Statements] ******************************************************************************************************************************
task path: /home/ansible/oracle-hardening/main.yml:17
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'echo ~oracle && sleep 0'"'"''
<192.168.0.22> (0, b'/home/oracle\n', b'')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/oracle/.ansible/tmp `"&& mkdir "` echo /home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325 `" && echo ansible-tmp-1703772757.9181914-17065-278116473068325="` echo /home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325 `" ) && sleep 0'"'"''
<192.168.0.22> (0, b'ansible-tmp-1703772757.9181914-17065-278116473068325=/home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325\n', b'')
Using module file /home/ansible/venv/lib/python3.10/site-packages/ansible/modules/command.py
<192.168.0.22> PUT /home/ansible/.ansible/tmp/ansible-local-17032prb3kks5/tmpao6hr925 TO /home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325/AnsiballZ_command.py
<192.168.0.22> SSH: EXEC sshpass -d10 sftp -o BatchMode=no -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' '[192.168.0.22]'
<192.168.0.22> (0, b'sftp> put /home/ansible/.ansible/tmp/ansible-local-17032prb3kks5/tmpao6hr925 /home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325/AnsiballZ_command.py\n', b'')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'chmod u+x /home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325/ /home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325/AnsiballZ_command.py && sleep 0'"'"''
<192.168.0.22> (0, b'', b'')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' -tt 192.168.0.22 '/bin/sh -c '"'"'/usr/bin/python3.9 /home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325/AnsiballZ_command.py && sleep 0'"'"''
<192.168.0.22> (0, b'\r\n{"changed": true, "stdout": "SELECT UPPER(VALUE) FROM V WHERE UPPER(NAME) = \'AUDIT_SYS_OPERATIONS\'\\n                         *\\nERROR at line 1:\\nORA-00942: table or view does not exist", "stderr": "", "rc": 0, "cmd": "export TMP=/tmp\\nexport TMPDIR=$TMP\\nexport ORACLE_HOSTNAME=ol8-19.localdomain\\nexport ORACLE_UNQNAME=cdb1\\nexport ORACLE_BASE=/u01/app/oracle\\nexport ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1\\nexport ORA_INVENTORY=/u01/app/oraInventory\\nexport ORACLE_SID=cdb1\\nexport PDB_NAME=pdb1\\nexport DATA_DIR=/u02/oradata\\nexport PATH=/usr/sbin:/usr/local/bin:$PATH\\nexport PATH=$ORACLE_HOME/bin:$PATH\\nexport LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib\\nexport CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib\\necho \\"SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = \'AUDIT_SYS_OPERATIONS\';\\" | sqlplus -S / as sysdba\\n", "start": "2023-12-28 21:12:38.287425", "end": "2023-12-28 21:12:39.303732", "delta": "0:00:01.016307", "msg": "", "invocation": {"module_args": {"_raw_params": "export TMP=/tmp\\nexport TMPDIR=$TMP\\nexport ORACLE_HOSTNAME=ol8-19.localdomain\\nexport ORACLE_UNQNAME=cdb1\\nexport ORACLE_BASE=/u01/app/oracle\\nexport ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1\\nexport ORA_INVENTORY=/u01/app/oraInventory\\nexport ORACLE_SID=cdb1\\nexport PDB_NAME=pdb1\\nexport DATA_DIR=/u02/oradata\\nexport PATH=/usr/sbin:/usr/local/bin:$PATH\\nexport PATH=$ORACLE_HOME/bin:$PATH\\nexport LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib\\nexport CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib\\necho \\"SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = \'AUDIT_SYS_OPERATIONS\';\\" | sqlplus -S / as sysdba\\n", "_uses_shell": true, "stdin_add_newline": true, "strip_empty_ends": true, "argv": null, "chdir": null, "executable": null, "creates": null, "removes": null, "stdin": null}}}\r\n', b'Shared connection to 192.168.0.22 closed.\r\n')
<192.168.0.22> ESTABLISH SSH CONNECTION FOR USER: oracle
<192.168.0.22> SSH: EXEC sshpass -d10 ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'User="oracle"' -o ConnectTimeout=10 -o 'ControlPath="/home/ansible/.ansible/cp/cc214d3bee"' 192.168.0.22 '/bin/sh -c '"'"'rm -f -r /home/oracle/.ansible/tmp/ansible-tmp-1703772757.9181914-17065-278116473068325/ > /dev/null 2>&1 && sleep 0'"'"''
<192.168.0.22> (0, b'', b'')
changed: [192.168.0.22] => (item=SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS';) => {
    "ansible_loop_var": "item",
    "changed": true,
    "cmd": "export TMP=/tmp\nexport TMPDIR=$TMP\nexport ORACLE_HOSTNAME=ol8-19.localdomain\nexport ORACLE_UNQNAME=cdb1\nexport ORACLE_BASE=/u01/app/oracle\nexport ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1\nexport ORA_INVENTORY=/u01/app/oraInventory\nexport ORACLE_SID=cdb1\nexport PDB_NAME=pdb1\nexport DATA_DIR=/u02/oradata\nexport PATH=/usr/sbin:/usr/local/bin:$PATH\nexport PATH=$ORACLE_HOME/bin:$PATH\nexport LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib\nexport CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib\necho \"SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS';\" | sqlplus -S / as sysdba\n",
    "delta": "0:00:01.016307",
    "end": "2023-12-28 21:12:39.303732",
    "invocation": {
        "module_args": {
            "_raw_params": "export TMP=/tmp\nexport TMPDIR=$TMP\nexport ORACLE_HOSTNAME=ol8-19.localdomain\nexport ORACLE_UNQNAME=cdb1\nexport ORACLE_BASE=/u01/app/oracle\nexport ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1\nexport ORA_INVENTORY=/u01/app/oraInventory\nexport ORACLE_SID=cdb1\nexport PDB_NAME=pdb1\nexport DATA_DIR=/u02/oradata\nexport PATH=/usr/sbin:/usr/local/bin:$PATH\nexport PATH=$ORACLE_HOME/bin:$PATH\nexport LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib\nexport CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib\necho \"SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS';\" | sqlplus -S / as sysdba\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true
        }
    },
    "item": "SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS';",
    "msg": "",
    "rc": 0,
    "start": "2023-12-28 21:12:38.287425",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "SELECT UPPER(VALUE) FROM V WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS'\n                         *\nERROR at line 1:\nORA-00942: table or view does not exist",
    "stdout_lines": [
        "SELECT UPPER(VALUE) FROM V WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS'",
        "                         *",
        "ERROR at line 1:",
        "ORA-00942: table or view does not exist"
    ]
}

TASK [Print return information from the previous task] *****************************************************************************************************
task path: /home/ansible/oracle-hardening/main.yml:41
ok: [192.168.0.22] => {
    "result": {
        "changed": true,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": true,
                "cmd": "export TMP=/tmp\nexport TMPDIR=$TMP\nexport ORACLE_HOSTNAME=ol8-19.localdomain\nexport ORACLE_UNQNAME=cdb1\nexport ORACLE_BASE=/u01/app/oracle\nexport ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1\nexport ORA_INVENTORY=/u01/app/oraInventory\nexport ORACLE_SID=cdb1\nexport PDB_NAME=pdb1\nexport DATA_DIR=/u02/oradata\nexport PATH=/usr/sbin:/usr/local/bin:$PATH\nexport PATH=$ORACLE_HOME/bin:$PATH\nexport LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib\nexport CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib\necho \"SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS';\" | sqlplus -S / as sysdba\n",
                "delta": "0:00:01.016307",
                "end": "2023-12-28 21:12:39.303732",
                "failed": false,
                "invocation": {
                    "module_args": {
                        "_raw_params": "export TMP=/tmp\nexport TMPDIR=$TMP\nexport ORACLE_HOSTNAME=ol8-19.localdomain\nexport ORACLE_UNQNAME=cdb1\nexport ORACLE_BASE=/u01/app/oracle\nexport ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1\nexport ORA_INVENTORY=/u01/app/oraInventory\nexport ORACLE_SID=cdb1\nexport PDB_NAME=pdb1\nexport DATA_DIR=/u02/oradata\nexport PATH=/usr/sbin:/usr/local/bin:$PATH\nexport PATH=$ORACLE_HOME/bin:$PATH\nexport LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib\nexport CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib\necho \"SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS';\" | sqlplus -S / as sysdba\n",
                        "_uses_shell": true,
                        "argv": null,
                        "chdir": null,
                        "creates": null,
                        "executable": null,
                        "removes": null,
                        "stdin": null,
                        "stdin_add_newline": true,
                        "strip_empty_ends": true
                    }
                },
                "item": "SELECT UPPER(VALUE) FROM V$SYSTEM_PARAMETER WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS';",
                "msg": "",
                "rc": 0,
                "start": "2023-12-28 21:12:38.287425",
                "stderr": "",
                "stderr_lines": [],
                "stdout": "SELECT UPPER(VALUE) FROM V WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS'\n                         *\nERROR at line 1:\nORA-00942: table or view does not exist",
                "stdout_lines": [
                    "SELECT UPPER(VALUE) FROM V WHERE UPPER(NAME) = 'AUDIT_SYS_OPERATIONS'",
                    "                         *",
                    "ERROR at line 1:",
                    "ORA-00942: table or view does not exist"
                ]
            }
        ],
        "skipped": false
    }
}

PLAY RECAP *************************************************************************************************************************************************
192.168.0.22               : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

(venv) ansible@Teguh:~/oracle-hardening$